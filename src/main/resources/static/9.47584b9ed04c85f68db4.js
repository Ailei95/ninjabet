(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{nL62:function(e,t,n){"use strict";n.r(t),n.d(t,"PrivateModule",function(){return y});var r=n("ofXK"),i=n("tyNb"),o=n("LRne"),c=n("eIep"),l=n("3Pt+"),s=n("fXoL"),a=n("Xjnj"),u=n("tk/3");let d=(()=>{class e{constructor(e){this.httpClient=e}get(){return this.httpClient.get(a.a.apiUrl+"/api/admin/countries")}add(e){if(e.file)return this.httpClient.post(a.a.apiUrl+"/api/admin/countries_mp",e);{const{name:t,isoCode:n}=e;return this.httpClient.post(a.a.apiUrl+"/api/admin/countries",{name:t,isoCode:n})}}delete(e){return this.httpClient.delete(a.a.apiUrl+"/api/admin/countries/"+e)}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(u.b))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const b=["uploadRef"];function p(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div"),s.Sb(1,"pre",17),s.Zb("click",function(){s.qc(e);const n=t.$implicit;return s.dc().delete(n.id)}),s.yc(2),s.ec(3,"json"),s.Rb(),s.Rb()}if(2&e){const e=t.$implicit;s.Db(2),s.zc(s.fc(3,1,e))}}function f(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",18),s.Zb("click",function(){return s.qc(e),s.dc().upload()}),s.Sb(1,"span",19),s.cc(),s.Sb(2,"svg",20),s.Ob(3,"path",21),s.Ob(4,"path",22),s.Rb(),s.Rb(),s.bc(),s.Sb(5,"p",23),s.yc(6,"Click to associate an image for the country"),s.Rb(),s.Rb()}}function m(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",18),s.Zb("click",function(){return s.qc(e),s.dc().form.get("file").setValue(null)}),s.yc(1),s.Rb()}if(2&e){const e=s.dc();s.Db(1),s.Ac(" ",e.form.get("file").value.slice(0,e.form.get("file").value.indexOf(";"))," ")}}const h=[{path:"",component:(()=>{class e{constructor(e,t,n){this.countryService=e,this.changeDetectorRef=t,this.formBuilder=n,this.countries$=this.countryService.get(),this.form=this.formBuilder.group({name:[null,l.l.required],isoCode:[null,l.l.required],file:[null]})}ngOnInit(){}upload(){this.uploadRef.nativeElement.click()}fileLoad(e){const t=new FileReader,n=e.target.files;if(n&&n.length){const[n]=e.target.files;t.readAsDataURL(n),t.onload=()=>{this.form.patchValue({file:t.result}),e.target.value=null,this.changeDetectorRef.markForCheck()}}}delete(e){this.countryService.delete(e).pipe(Object(c.a)(()=>(this.countries$=this.countryService.get(),Object(o.a)(null)))).subscribe(console.log)}submit(){this.countryService.add(this.form.value).pipe(Object(c.a)(()=>(this.countries$=this.countryService.get(),Object(o.a)(null)))).subscribe(console.log)}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(d),s.Nb(s.h),s.Nb(l.c))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-private"]],viewQuery:function(e,t){if(1&e&&s.Cc(b,1),2&e){let e;s.mc(e=s.ac())&&(t.uploadRef=e.first)}},decls:24,vars:6,consts:[[1,"nb-container"],[1,"grid","grid-cols-12","gap-4","p-4"],[1,"col-span-full","md:col-span-6","lg:col-span-7","order-2","md:order-1","space-y-3","sm:space-y-6"],[4,"ngFor","ngForOf"],[1,"col-span-full","md:col-span-6","lg:col-span-5","order-1","md:order-2",3,"formGroup","ngSubmit"],[1,"space-y-4","md:space-y-6"],[1,"mb-6"],[1,"text-2xl","font-bold"],[1,"flex"],[1,"sr-only"],["type","text","placeholder","Country code","formControlName","isoCode",1,"nb-input","w-32","mr-3","sm:mr-6"],["type","text","placeholder","Country name","formControlName","name",1,"nb-input","w-full"],["class","flex px-12 py-4 md:px-24 md:py-8 border rounded-lg shadow-sm border-gray-300 border-dashed justify-center cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["loaded",""],["type","file",1,"hidden",3,"change"],["uploadRef",""],["type","button",1,"nb-button-primary","w-full",3,"click"],[1,"cursor-pointer",3,"click"],[1,"flex","px-12","py-4","md:px-24","md:py-8","border","rounded-lg","shadow-sm","border-gray-300","border-dashed","justify-center","cursor-pointer",3,"click"],[1,"flex","self-center"],["xmlns","http://www.w3.org/2000/svg","height","25px","width","25px","viewBox","0 0 25 25","fill","currentColor",1,"text-gray-500","mr-2"],["d","M0 0h24v24H0V0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"select-none","text-base","text-center","text-gray-500"]],template:function(e,t){if(1&e&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.wc(3,p,4,3,"div",3),s.ec(4,"async"),s.Rb(),s.Sb(5,"div",4),s.Zb("ngSubmit",function(){return t.submit()}),s.Sb(6,"div",5),s.Sb(7,"div",6),s.Sb(8,"h1",7),s.yc(9,"Country manager"),s.Rb(),s.Rb(),s.Sb(10,"div",8),s.Sb(11,"label",9),s.yc(12,"Country code"),s.Rb(),s.Ob(13,"input",10),s.Sb(14,"label",9),s.yc(15,"Country name"),s.Rb(),s.Ob(16,"input",11),s.Rb(),s.wc(17,f,7,0,"div",12),s.wc(18,m,2,1,"ng-template",null,13,s.xc),s.Sb(20,"input",14,15),s.Zb("change",function(e){return t.fileLoad(e)}),s.Rb(),s.Sb(22,"button",16),s.Zb("click",function(){return t.submit()}),s.yc(23,"Save"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e){const e=s.nc(19);s.Db(3),s.jc("ngForOf",s.fc(4,4,t.countries$)),s.Db(2),s.jc("formGroup",t.form),s.Db(12),s.jc("ngIf",!t.form.get("file").value)("ngIfElse",e)}},directives:[r.l,l.h,l.e,l.b,l.g,l.d,r.m],pipes:[r.b,r.g],encapsulation:2}),e})()}];let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({imports:[[i.h.forChild(h)],i.h]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({imports:[[r.c,g,l.j]]}),e})()}}]);